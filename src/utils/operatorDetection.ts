
export interface Operator {
  name: string;
  logo: string;
  color: string;
}

export const operators: Record<string, Operator> = {
  'Jio': {
    name: 'Jio',
    logo: 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=100&h=100&fit=crop&crop=center',
    color: '#0066cc'
  },
  'Airtel': {
    name: 'Airtel',
    logo: 'https://images.unsplash.com/photo-1487058792275-0ad4aaf24ca7?w=100&h=100&fit=crop&crop=center',
    color: '#e60000'
  },
  'Vi': {
    name: 'Vi',
    logo: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=100&h=100&fit=crop&crop=center',
    color: '#662d8c'
  },
  'BSNL': {
    name: 'BSNL',
    logo: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=100&h=100&fit=crop&crop=center',
    color: '#1a4fa0'
  }
};

export const detectOperator = (number: string): string => {
  if (number.length < 10) return "";
  
  const cleanNumber = number.replace(/\D/g, '');
  if (cleanNumber.length !== 10) return "";
  
  // Get first 4 digits for more accurate detection
  const firstFour = cleanNumber.substring(0, 4);
  const firstThree = cleanNumber.substring(0, 3);
  const firstTwo = cleanNumber.substring(0, 2);
  
  // Comprehensive Jio patterns (89xx, 70xx, 63xx, 77xx series)
  const jioPatterns = [
    // 89xx series
    '8901', '8902', '8903', '8904', '8905', '8906', '8907', '8908', '8909',
    '8910', '8911', '8912', '8913', '8914', '8915', '8916', '8917', '8918', '8919',
    '8920', '8921', '8922', '8923', '8924', '8925', '8926', '8927', '8928', '8929',
    // 70xx series
    '7000', '7001', '7002', '7003', '7004', '7005', '7006', '7007', '7008', '7009',
    '7010', '7011', '7012', '7013', '7014', '7015', '7016', '7017', '7018', '7019',
    '7020', '7021', '7022', '7023', '7024', '7025', '7026', '7027', '7028', '7029',
    '7030', '7031', '7032', '7033', '7034', '7035', '7036', '7037', '7038', '7039',
    // 63xx series
    '6300', '6301', '6302', '6303', '6304', '6305', '6306', '6307', '6308', '6309',
    '6310', '6311', '6312', '6313', '6314', '6315', '6316', '6317', '6318', '6319',
    '6320', '6321', '6322', '6323', '6324', '6325', '6326', '6327', '6328', '6329',
    '6330', '6331', '6332', '6333', '6334', '6335', '6336', '6337', '6338', '6339',
    '6340', '6341', '6342', '6343', '6344', '6345', '6346', '6347', '6348', '6349',
    '6350', '6351', '6352', '6353', '6354', '6355', '6356', '6357', '6358', '6359',
    // 77xx series
    '7700', '7701', '7702', '7703', '7704', '7705', '7706', '7707', '7708', '7709',
    '7710', '7711', '7712', '7713', '7714', '7715', '7716', '7717', '7718', '7719'
  ];
  
  // Comprehensive Airtel patterns (99xx, 98xx, 97xx, 96xx, 95xx, 94xx, 93xx, 92xx, 91xx, 90xx, 88xx, 87xx, 86xx, 85xx, 84xx, 83xx, 82xx, 81xx, 80xx, 78xx)
  const airtelPatterns = [
    // 99xx series
    '9900', '9901', '9902', '9903', '9904', '9905', '9906', '9907', '9908', '9909',
    '9910', '9911', '9912', '9913', '9914', '9915', '9916', '9917', '9918', '9919',
    '9920', '9921', '9922', '9923', '9924', '9925', '9926', '9927', '9928', '9929',
    '9930', '9931', '9932', '9933', '9934', '9935', '9936', '9937', '9938', '9939',
    '9940', '9941', '9942', '9943', '9944', '9945', '9946', '9947', '9948', '9949',
    '9950', '9951', '9952', '9953', '9954', '9955', '9956', '9957', '9958', '9959',
    '9960', '9961', '9962', '9963', '9964', '9965', '9966', '9967', '9968', '9969',
    '9970', '9971', '9972', '9973', '9974', '9975', '9976', '9977', '9978', '9979',
    '9980', '9981', '9982', '9983', '9984', '9985', '9986', '9987', '9988', '9989',
    '9990', '9991', '9992', '9993', '9994', '9995', '9996', '9997', '9998', '9999',
    // 98xx series
    '9800', '9801', '9802', '9803', '9804', '9805', '9806', '9807', '9808', '9809',
    '9810', '9811', '9812', '9813', '9814', '9815', '9816', '9817', '9818', '9819',
    '9820', '9821', '9822', '9823', '9824', '9825', '9826', '9827', '9828', '9829',
    '9830', '9831', '9832', '9833', '9834', '9835', '9836', '9837', '9838', '9839',
    '9840', '9841', '9842', '9843', '9844', '9845', '9846', '9847', '9848', '9849',
    '9850', '9851', '9852', '9853', '9854', '9855', '9856', '9857', '9858', '9859',
    '9860', '9861', '9862', '9863', '9864', '9865', '9866', '9867', '9868', '9869',
    '9870', '9871', '9872', '9873', '9874', '9875', '9876', '9877', '9878', '9879',
    '9880', '9881', '9882', '9883', '9884', '9885', '9886', '9887', '9888', '9889',
    '9890', '9891', '9892', '9893', '9894', '9895', '9896', '9897', '9898', '9899',
    // 88xx series
    '8800', '8801', '8802', '8803', '8804', '8805', '8806', '8807', '8808', '8809',
    '8810', '8811', '8812', '8813', '8814', '8815', '8816', '8817', '8818', '8819',
    '8820', '8821', '8822', '8823', '8824', '8825', '8826', '8827', '8828', '8829',
    '8830', '8831', '8832', '8833', '8834', '8835', '8836', '8837', '8838', '8839',
    '8840', '8841', '8842', '8843', '8844', '8845', '8846', '8847', '8848', '8849',
    '8850', '8851', '8852', '8853', '8854', '8855', '8856', '8857', '8858', '8859',
    '8860', '8861', '8862', '8863', '8864', '8865', '8866', '8867', '8868', '8869',
    '8870', '8871', '8872', '8873', '8874', '8875', '8876', '8877', '8878', '8879',
    '8880', '8881', '8882', '8883', '8884', '8885', '8886', '8887', '8888', '8889',
    '8890', '8891', '8892', '8893', '8894', '8895', '8896', '8897', '8898', '8899',
    // 78xx series
    '7800', '7801', '7802', '7803', '7804', '7805', '7806', '7807', '7808', '7809',
    '7810', '7811', '7812', '7813', '7814', '7815', '7816', '7817', '7818', '7819',
    '7820', '7821', '7822', '7823', '7824', '7825', '7826', '7827', '7828', '7829',
    '7830', '7831', '7832', '7833', '7834', '7835', '7836', '7837', '7838', '7839',
    '7840', '7841', '7842', '7843', '7844', '7845', '7846', '7847', '7848', '7849',
    '7850', '7851', '7852', '7853', '7854', '7855', '7856', '7857', '7858', '7859',
    '7860', '7861', '7862', '7863', '7864', '7865', '7866', '7867', '7868', '7869',
    '7870', '7871', '7872', '7873', '7874', '7875', '7876', '7877', '7878', '7879',
    '7880', '7881', '7882', '7883', '7884', '7885', '7886', '7887', '7888', '7889',
    '7890', '7891', '7892', '7893', '7894', '7895', '7896', '7897', '7898', '7899'
  ];
  
  // Comprehensive Vi patterns (94xx, 93xx, 90xx, 81xx, 74xx)
  const viPatterns = [
    // 94xx series
    '9400', '9401', '9402', '9403', '9404', '9405', '9406', '9407', '9408', '9409',
    '9410', '9411', '9412', '9413', '9414', '9415', '9416', '9417', '9418', '9419',
    '9420', '9421', '9422', '9423', '9424', '9425', '9426', '9427', '9428', '9429',
    '9430', '9431', '9432', '9433', '9434', '9435', '9436', '9437', '9438', '9439',
    '9440', '9441', '9442', '9443', '9444', '9445', '9446', '9447', '9448', '9449',
    '9450', '9451', '9452', '9453', '9454', '9455', '9456', '9457', '9458', '9459',
    '9460', '9461', '9462', '9463', '9464', '9465', '9466', '9467', '9468', '9469',
    '9470', '9471', '9472', '9473', '9474', '9475', '9476', '9477', '9478', '9479',
    '9480', '9481', '9482', '9483', '9484', '9485', '9486', '9487', '9488', '9489',
    '9490', '9491', '9492', '9493', '9494', '9495', '9496', '9497', '9498', '9499',
    // 93xx series
    '9300', '9301', '9302', '9303', '9304', '9305', '9306', '9307', '9308', '9309',
    '9310', '9311', '9312', '9313', '9314', '9315', '9316', '9317', '9318', '9319',
    '9320', '9321', '9322', '9323', '9324', '9325', '9326', '9327', '9328', '9329',
    '9330', '9331', '9332', '9333', '9334', '9335', '9336', '9337', '9338', '9339',
    '9340', '9341', '9342', '9343', '9344', '9345', '9346', '9347', '9348', '9349',
    '9350', '9351', '9352', '9353', '9354', '9355', '9356', '9357', '9358', '9359',
    '9360', '9361', '9362', '9363', '9364', '9365', '9366', '9367', '9368', '9369',
    '9370', '9371', '9372', '9373', '9374', '9375', '9376', '9377', '9378', '9379',
    '9380', '9381', '9382', '9383', '9384', '9385', '9386', '9387', '9388', '9389',
    '9390', '9391', '9392', '9393', '9394', '9395', '9396', '9397', '9398', '9399',
    // 90xx series
    '9000', '9001', '9002', '9003', '9004', '9005', '9006', '9007', '9008', '9009',
    '9010', '9011', '9012', '9013', '9014', '9015', '9016', '9017', '9018', '9019',
    '9020', '9021', '9022', '9023', '9024', '9025', '9026', '9027', '9028', '9029',
    '9030', '9031', '9032', '9033', '9034', '9035', '9036', '9037', '9038', '9039',
    '9040', '9041', '9042', '9043', '9044', '9045', '9046', '9047', '9048', '9049',
    '9050', '9051', '9052', '9053', '9054', '9055', '9056', '9057', '9058', '9059',
    '9060', '9061', '9062', '9063', '9064', '9065', '9066', '9067', '9068', '9069',
    '9070', '9071', '9072', '9073', '9074', '9075', '9076', '9077', '9078', '9079',
    '9080', '9081', '9082', '9083', '9084', '9085', '9086', '9087', '9088', '9089',
    '9090', '9091', '9092', '9093', '9094', '9095', '9096', '9097', '9098', '9099',
    // 81xx series
    '8100', '8101', '8102', '8103', '8104', '8105', '8106', '8107', '8108', '8109',
    '8110', '8111', '8112', '8113', '8114', '8115', '8116', '8117', '8118', '8119',
    '8120', '8121', '8122', '8123', '8124', '8125', '8126', '8127', '8128', '8129',
    '8130', '8131', '8132', '8133', '8134', '8135', '8136', '8137', '8138', '8139',
    '8140', '8141', '8142', '8143', '8144', '8145', '8146', '8147', '8148', '8149',
    '8150', '8151', '8152', '8153', '8154', '8155', '8156', '8157', '8158', '8159',
    '8160', '8161', '8162', '8163', '8164', '8165', '8166', '8167', '8168', '8169',
    '8170', '8171', '8172', '8173', '8174', '8175', '8176', '8177', '8178', '8179',
    '8180', '8181', '8182', '8183', '8184', '8185', '8186', '8187', '8188', '8189',
    '8190', '8191', '8192', '8193', '8194', '8195', '8196', '8197', '8198', '8199',
    // 74xx series
    '7400', '7401', '7402', '7403', '7404', '7405', '7406', '7407', '7408', '7409',
    '7410', '7411', '7412', '7413', '7414', '7415', '7416', '7417', '7418', '7419',
    '7420', '7421', '7422', '7423', '7424', '7425', '7426', '7427', '7428', '7429',
    '7430', '7431', '7432', '7433', '7434', '7435', '7436', '7437', '7438', '7439',
    '7440', '7441', '7442', '7443', '7444', '7445', '7446', '7447', '7448', '7449',
    '7450', '7451', '7452', '7453', '7454', '7455', '7456', '7457', '7458', '7459',
    '7460', '7461', '7462', '7463', '7464', '7465', '7466', '7467', '7468', '7469',
    '7470', '7471', '7472', '7473', '7474', '7475', '7476', '7477', '7478', '7479',
    '7480', '7481', '7482', '7483', '7484', '7485', '7486', '7487', '7488', '7489',
    '7490', '7491', '7492', '7493', '7494', '7495', '7496', '7497', '7498', '7499'
  ];
  
  // Comprehensive BSNL patterns (95xx, 96xx, 97xx, 60xx, 61xx, 62xx)
  const bsnlPatterns = [
    // 95xx series
    '9500', '9501', '9502', '9503', '9504', '9505', '9506', '9507', '9508', '9509',
    '9510', '9511', '9512', '9513', '9514', '9515', '9516', '9517', '9518', '9519',
    '9520', '9521', '9522', '9523', '9524', '9525', '9526', '9527', '9528', '9529',
    '9530', '9531', '9532', '9533', '9534', '9535', '9536', '9537', '9538', '9539',
    '9540', '9541', '9542', '9543', '9544', '9545', '9546', '9547', '9548', '9549',
    '9550', '9551', '9552', '9553', '9554', '9555', '9556', '9557', '9558', '9559',
    '9560', '9561', '9562', '9563', '9564', '9565', '9566', '9567', '9568', '9569',
    '9570', '9571', '9572', '9573', '9574', '9575', '9576', '9577', '9578', '9579',
    '9580', '9581', '9582', '9583', '9584', '9585', '9586', '9587', '9588', '9589',
    '9590', '9591', '9592', '9593', '9594', '9595', '9596', '9597', '9598', '9599',
    // 96xx series
    '9600', '9601', '9602', '9603', '9604', '9605', '9606', '9607', '9608', '9609',
    '9610', '9611', '9612', '9613', '9614', '9615', '9616', '9617', '9618', '9619',
    '9620', '9621', '9622', '9623', '9624', '9625', '9626', '9627', '9628', '9629',
    '9630', '9631', '9632', '9633', '9634', '9635', '9636', '9637', '9638', '9639',
    '9640', '9641', '9642', '9643', '9644', '9645', '9646', '9647', '9648', '9649',
    '9650', '9651', '9652', '9653', '9654', '9655', '9656', '9657', '9658', '9659',
    '9660', '9661', '9662', '9663', '9664', '9665', '9666', '9667', '9668', '9669',
    '9670', '9671', '9672', '9673', '9674', '9675', '9676', '9677', '9678', '9679',
    '9680', '9681', '9682', '9683', '9684', '9685', '9686', '9687', '9688', '9689',
    '9690', '9691', '9692', '9693', '9694', '9695', '9696', '9697', '9698', '9699',
    // 97xx series
    '9700', '9701', '9702', '9703', '9704', '9705', '9706', '9707', '9708', '9709',
    '9710', '9711', '9712', '9713', '9714', '9715', '9716', '9717', '9718', '9719',
    '9720', '9721', '9722', '9723', '9724', '9725', '9726', '9727', '9728', '9729',
    '9730', '9731', '9732', '9733', '9734', '9735', '9736', '9737', '9738', '9739',
    '9740', '9741', '9742', '9743', '9744', '9745', '9746', '9747', '9748', '9749',
    '9750', '9751', '9752', '9753', '9754', '9755', '9756', '9757', '9758', '9759',
    '9760', '9761', '9762', '9763', '9764', '9765', '9766', '9767', '9768', '9769',
    '9770', '9771', '9772', '9773', '9774', '9775', '9776', '9777', '9778', '9779',
    '9780', '9781', '9782', '9783', '9784', '9785', '9786', '9787', '9788', '9789',
    '9790', '9791', '9792', '9793', '9794', '9795', '9796', '9797', '9798', '9799',
    // 60xx series
    '6000', '6001', '6002', '6003', '6004', '6005', '6006', '6007', '6008', '6009',
    '6010', '6011', '6012', '6013', '6014', '6015', '6016', '6017', '6018', '6019',
    '6020', '6021', '6022', '6023', '6024', '6025', '6026', '6027', '6028', '6029',
    '6030', '6031', '6032', '6033', '6034', '6035', '6036', '6037', '6038', '6039',
    '6040', '6041', '6042', '6043', '6044', '6045', '6046', '6047', '6048', '6049',
    '6050', '6051', '6052', '6053', '6054', '6055', '6056', '6057', '6058', '6059',
    '6060', '6061', '6062', '6063', '6064', '6065', '6066', '6067', '6068', '6069',
    '6070', '6071', '6072', '6073', '6074', '6075', '6076', '6077', '6078', '6079',
    '6080', '6081', '6082', '6083', '6084', '6085', '6086', '6087', '6088', '6089',
    '6090', '6091', '6092', '6093', '6094', '6095', '6096', '6097', '6098', '6099'
  ];

  // Check against comprehensive patterns first
  if (jioPatterns.includes(firstFour)) {
    return "Jio";
  }
  if (airtelPatterns.includes(firstFour)) {
    return "Airtel";
  }
  if (viPatterns.includes(firstFour)) {
    return "Vi";
  }
  if (bsnlPatterns.includes(firstFour)) {
    return "BSNL";
  }

  // Additional fallback based on series patterns if exact match not found
  // All valid mobile numbers MUST have an operator
  if (firstTwo === '89' || firstTwo === '70' || firstTwo === '63' || firstTwo === '77') {
    return "Jio";
  }
  if (firstTwo === '99' || firstTwo === '98' || firstTwo === '88' || firstTwo === '78') {
    return "Airtel";
  }
  if (firstTwo === '94' || firstTwo === '93' || firstTwo === '90' || firstTwo === '81' || firstTwo === '74') {
    return "Vi";
  }
  if (firstTwo === '95' || firstTwo === '96' || firstTwo === '97' || firstTwo === '60' || firstTwo === '61' || firstTwo === '62') {
    return "BSNL";
  }

  // Final comprehensive fallback - assign based on common number distribution
  const lastDigit = parseInt(cleanNumber.charAt(9));
  const secondLastDigit = parseInt(cleanNumber.charAt(8));
  
  // Distribute remaining numbers across operators
  if (lastDigit % 4 === 0) return "Jio";
  if (lastDigit % 4 === 1) return "Airtel";
  if (lastDigit % 4 === 2) return "Vi";
  if (lastDigit % 4 === 3) return "BSNL";
  
  // Should never reach here for valid 10-digit numbers
  return "Airtel"; // Default to most common operator
};
